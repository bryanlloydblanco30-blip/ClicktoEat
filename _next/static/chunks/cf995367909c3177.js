(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11335,e=>{"use strict";let t="http://127.0.0.1:8000";function r(){let e=localStorage.getItem("cart_session_id");return e||(e="session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("cart_session_id",e)),e}async function a(){let e=await fetch(`${t}/api/menu/`);if(!e.ok)throw Error("Failed to fetch menu items");return e.json()}async function o(){let e=r(),a=await fetch(`${t}/api/cart/?session_id=${e}`);if(!a.ok)throw Error("Failed to fetch cart");return a.json()}async function i(e,a=1){let o=await fetch(`${t}/api/cart/add/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({menu_item_id:e,quantity:a,session_id:r()})});if(!o.ok)throw Error("Failed to add to cart");return o.json()}async function s(e,r){let a=await fetch(`${t}/api/cart/update/${e}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:r})});if(!a.ok)throw Error("Failed to update cart item");return a.json()}async function n(e){let r=await fetch(`${t}/api/cart/remove/${e}/`,{method:"DELETE"});if(!r.ok)throw Error("Failed to remove from cart");return r.json()}async function l(e){let a=await fetch(`${t}/api/favorites/add/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({menu_item_id:e,session_id:r()})});if(!a.ok)throw Error("Failed to add to favorites");return a.json()}async function c(e){let a=r(),o=await fetch(`${t}/api/favorites/remove/?session_id=${a}&menu_item_id=${e}`,{method:"DELETE"});if(!o.ok)throw Error("Failed to remove from favorites");return o.json()}async function d(){let e=r(),a=await fetch(`${t}/api/favorites/?session_id=${e}`);if(!a.ok)throw Error("Failed to fetch favorites");return a.json()}async function h(){let e=r(),a=await fetch(`${t}/api/favorites/ids/?session_id=${e}`);if(!a.ok)throw Error("Failed to fetch favorite IDs");return a.json()}async function m(e){let a=await fetch(`${t}/api/orders/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,session_id:r()})});if(!a.ok)throw Error((await a.json()).error||"Failed to create order");return a.json()}async function f(){let e=r(),a=await fetch(`${t}/api/orders/?session_id=${e}`);if(!a.ok)throw Error("Failed to fetch orders");return a.json()}async function u(){let e=await fetch(`${t}/api/partners/`);if(!e.ok)throw Error("Failed to fetch partners");return e.json()}async function p(e){let r=encodeURIComponent(e),a=await fetch(`${t}/api/partners/${r}/menu/`);if(!a.ok)throw Error("Failed to fetch partner menu");return a.json()}async function x(e,r,a,o="member",i="",s="",n=""){let l=await fetch(`${t}/api/auth/signup/`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,email:r,password:a,role:o,food_partner:i,full_name:s,sr_code:n})});if(!l.ok)throw Error((await l.json()).error||"Signup failed");return l.json()}async function g(e,r){let a=await fetch(`${t}/api/auth/login/`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:r})});if(!a.ok)throw Error((await a.json()).error||"Login failed");return a.json()}e.s(["addFavorite",()=>l,"addToCart",()=>i,"createOrder",()=>m,"getCart",()=>o,"getFavoriteIds",()=>h,"getFavorites",()=>d,"getFoodPartners",()=>u,"getMenuItems",()=>a,"getOrders",()=>f,"getPartnerMenuItems",()=>p,"login",()=>g,"removeFavorite",()=>c,"removeFromCart",()=>n,"signup",()=>x,"updateCartItem",()=>s])},3915,e=>{"use strict";var t=e.i(94862),r=e.i(70441),a=e.i(46317),o=e.i(61374),i=e.i(11335);function s(){let e=(0,a.useRouter)(),[s,n]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0);(0,r.useEffect)(()=>{d()},[]);let d=async()=>{try{c(!0);let e=await (0,i.getFoodPartners)();n(e.partners||[])}catch(e){console.error("Error loading food partners:",e),alert("Failed to load food partners")}finally{c(!1)}};return l?(0,t.jsx)("main",{className:"p-4",children:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Loading partners..."})]})})}):(0,t.jsxs)("main",{className:"p-4 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Food Partners"})]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Browse our amazing restaurant partners"})]}),s.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(r=>(0,t.jsxs)("div",{onClick:()=>e.push(`/partners/${encodeURIComponent(r.name)}`),className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 cursor-pointer group",children:[(0,t.jsx)("div",{className:"relative h-48 w-full overflow-hidden bg-gray-100",children:r.image_url?(0,t.jsx)(o.default,{src:r.image_url,alt:r.name,fill:!0,className:"object-cover group-hover:scale-110 transition duration-500"}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full text-gray-300",children:(0,t.jsx)("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-xl text-gray-800 mb-2",children:r.name}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[r.item_count," ",1===r.item_count?"item":"items"]}),(0,t.jsx)("svg",{className:"w-5 h-5 text-red-600 group-hover:translate-x-1 transition",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},r.name))}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,t.jsx)("p",{className:"text-gray-500 text-lg",children:"No food partners available yet."})]})]})}e.s(["default",()=>s])}]);