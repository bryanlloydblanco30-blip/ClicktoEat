(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11335,e=>{"use strict";let r="http://127.0.0.1:8000";function t(){let e=localStorage.getItem("cart_session_id");return e||(e="session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("cart_session_id",e)),e}async function a(){let e=await fetch(`${r}/api/menu/`);if(!e.ok)throw Error("Failed to fetch menu items");return e.json()}async function o(){let e=t(),a=await fetch(`${r}/api/cart/?session_id=${e}`);if(!a.ok)throw Error("Failed to fetch cart");return a.json()}async function s(e,a=1){let o=await fetch(`${r}/api/cart/add/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({menu_item_id:e,quantity:a,session_id:t()})});if(!o.ok)throw Error("Failed to add to cart");return o.json()}async function n(e,t){let a=await fetch(`${r}/api/cart/update/${e}/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:t})});if(!a.ok)throw Error("Failed to update cart item");return a.json()}async function i(e){let t=await fetch(`${r}/api/cart/remove/${e}/`,{method:"DELETE"});if(!t.ok)throw Error("Failed to remove from cart");return t.json()}async function d(e){let a=await fetch(`${r}/api/favorites/add/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({menu_item_id:e,session_id:t()})});if(!a.ok)throw Error("Failed to add to favorites");return a.json()}async function l(e){let a=t(),o=await fetch(`${r}/api/favorites/remove/?session_id=${a}&menu_item_id=${e}`,{method:"DELETE"});if(!o.ok)throw Error("Failed to remove from favorites");return o.json()}async function c(){let e=t(),a=await fetch(`${r}/api/favorites/?session_id=${e}`);if(!a.ok)throw Error("Failed to fetch favorites");return a.json()}async function u(){let e=t(),a=await fetch(`${r}/api/favorites/ids/?session_id=${e}`);if(!a.ok)throw Error("Failed to fetch favorite IDs");return a.json()}async function m(e){let a=await fetch(`${r}/api/orders/create/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,session_id:t()})});if(!a.ok)throw Error((await a.json()).error||"Failed to create order");return a.json()}async function f(){let e=t(),a=await fetch(`${r}/api/orders/?session_id=${e}`);if(!a.ok)throw Error("Failed to fetch orders");return a.json()}async function h(){let e=await fetch(`${r}/api/partners/`);if(!e.ok)throw Error("Failed to fetch partners");return e.json()}async function p(e){let t=encodeURIComponent(e),a=await fetch(`${r}/api/partners/${t}/menu/`);if(!a.ok)throw Error("Failed to fetch partner menu");return a.json()}async function g(e,t,a,o="member",s="",n="",i=""){let d=await fetch(`${r}/api/auth/signup/`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,email:t,password:a,role:o,food_partner:s,full_name:n,sr_code:i})});if(!d.ok)throw Error((await d.json()).error||"Signup failed");return d.json()}async function y(e,t){let a=await fetch(`${r}/api/auth/login/`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:t})});if(!a.ok)throw Error((await a.json()).error||"Login failed");return a.json()}e.s(["addFavorite",()=>d,"addToCart",()=>s,"createOrder",()=>m,"getCart",()=>o,"getFavoriteIds",()=>u,"getFavorites",()=>c,"getFoodPartners",()=>h,"getMenuItems",()=>a,"getOrders",()=>f,"getPartnerMenuItems",()=>p,"login",()=>y,"removeFavorite",()=>l,"removeFromCart",()=>i,"signup",()=>g,"updateCartItem",()=>n])},23888,e=>{"use strict";var r=e.i(94862),t=e.i(70441),a=e.i(46317),o=e.i(25721),s=e.i(11335);function n(){let e=(0,a.useRouter)(),[n,i]=(0,t.useState)({username:"",email:"",password:"",confirmPassword:"",full_name:"",sr_code:""}),[d,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),m=e=>{i({...n,[e.target.name]:e.target.value}),l("")},f=async r=>{if(r.preventDefault(),l(""),n.username&&n.email&&n.password&&n.full_name&&n.sr_code?n.password.length<6?(l("Password must be at least 6 characters"),!1):n.password!==n.confirmPassword?(l("Passwords do not match"),!1):!!/^\d{2}-\d{5}$/.test(n.sr_code)||(l("SR Code must be in format: XX-XXXXX (e.g., 24-12345)"),!1):(l("All fields are required"),!1)){u(!0);try{let r=await (0,s.signup)(n.username,n.email,n.password,"member","",n.full_name,n.sr_code);r.success&&(localStorage.setItem("user",JSON.stringify(r.user)),e.push("/"))}catch(e){l(e.message||"Signup failed. Please try again.")}finally{u(!1)}}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-red-50 px-4 py-12",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Join us today"})]}),d&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-red-600 text-sm",children:d})}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,r.jsx)("input",{type:"text",id:"full_name",name:"full_name",value:n.full_name,onChange:m,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition",placeholder:"Juan Dela Cruz"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"sr_code",className:"block text-sm font-medium text-gray-700 mb-2",children:"SR Code"}),(0,r.jsx)("input",{type:"text",id:"sr_code",name:"sr_code",value:n.sr_code,onChange:m,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition",placeholder:"24-12345"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Format: XX-XXXXX (e.g., 23-12345)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),(0,r.jsx)("input",{type:"text",id:"username",name:"username",value:n.username,onChange:m,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition",placeholder:"Choose a username"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:n.email,onChange:m,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition",placeholder:"your@email.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",value:n.password,onChange:m,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition",placeholder:"At least 6 characters"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,r.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:m,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition",placeholder:"Re-enter password"})]}),(0,r.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Creating account...":"Create Account"})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-gray-600",children:["Already have an account?"," ",(0,r.jsx)(o.default,{href:"/login",className:"text-orange-500 hover:text-orange-600 font-semibold",children:"Sign in"})]})}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)(o.default,{href:"/",className:"text-sm text-gray-500 hover:text-gray-700",children:"Continue as guest â†’"})})]})})}e.s(["default",()=>n])}]);